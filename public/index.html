<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>FADEOUT — Mini App</title>
  <link rel="stylesheet" href="/styles.css" />
</head>
<body>
  <header class="app-header">
    <div class="brand">
      <img src="/logo.png" alt="FADEOUT" class="logo" onerror="this.style.display='none'"/>
      <div class="titles">
        <h1>FADEOUT</h1>
        <div class="subtitle">Студия звукозаписи</div>
      </div>
    </div>
    <nav class="top-actions">
      <button id="btnCollection" type="button" class="secondary">Коллекция</button>
      <button id="btnSupport" type="button" class="secondary">Поддержка</button>
      <button id="adminBtn" class="admin-btn" title="Админка" aria-label="Админка">
        <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M12 8.6a3.4 3.4 0 1 0 0 6.8 3.4 3.4 0 0 0 0-6.8Zm9.4 2.9h-2.06a7.35 7.35 0 0 0-.64-1.54l1.46-1.46a.9.9 0 0 0 0-1.27l-1.09-1.1a.9.9 0 0 0-1.27 0l-1.46 1.46c-.49-.27-1-.49-1.53-.64V2.6a.9.9 0 0 0-.9-.9h-1.56a.9.9 0 0 0-.9.9v2.06c-.53.15-1.05.37-1.54.64L6.4 3.84a.9.9 0 0 0-1.27 0L4.04 4.93a.9.9 0 0 0 0 1.27l1.46 1.46c-.27.49-.49 1-.64 1.53H2.8a.9.9 0 0 0-.9.9v1.56c0 .5.4.9.9.9h2.06c.15.53.37 1.05.64 1.54L4.04 17.8a.9.9 0 0 0 0 1.27l1.09 1.1a.9.9 0 0 0 1.27 0l1.46-1.46c.49.27 1 .49 1.53.64V21.4c0 .5.4.9.9.9h1.56c.5 0 .9-.4.9-.9v-2.06c.53-.15 1.04-.37 1.53-.64l1.46 1.46a.9.9 0 0 0 1.27 0l1.09-1.1a.9.9 0 0 0 0-1.27l-1.46-1.46c.27-.49.49-1 .64-1.53H21.4a.9.9 0 0 0 .9-.9v-1.56a.9.9 0 0 0-.9-.9Z"/></svg>
      </button>
    </nav>
  </header>

  <div class="promo-banner">
    <strong>Скидка -20% на ближайшие 3 часа</strong>
    <span id="promoTimer"></span>
  </div>

  <main class="content">
    <section class="controls">
      <label class="control"><span>Комната</span><select id="roomSelect"></select></label>
      <label class="control"><span>Дата</span><input id="dateInput" type="date"/></label>
      <div class="quick">
        <button id="qNow" type="button">Сейчас</button>
        <button id="qPlus1" type="button">+1 ч</button>
        <button id="qTonight" type="button">Сегодня вечер</button>
        <button id="qTomorrow" type="button">Завтра 10:00</button>
      </div>
    </section>

    <section class="timeline">
      <div class="timeline-head"><strong>Выберите время</strong><div id="todayHint" class="muted"></div></div>
      <div id="timelineSkeleton" style="display:none; gap:8px; overflow:hidden; padding:8px 2px;">
        <div class="skel skel-slot"></div><div class="skel skel-slot"></div><div class="skel skel-slot"></div><div class="skel skel-slot"></div><div class="skel skel-slot"></div>
      </div>
      <div id="timelineScroller" class="timeline-scroller"></div>

      <div class="summary sticky">
        <div id="summaryText" class="muted">Время не выбрано</div>
        <div class="actions">
          <input id="promoInput" placeholder="Промокод" />
          <button id="applyPromo" type="button" class="secondary">Применить</button>
          <button id="bookBtn" type="button" disabled>Забронировать</button>
        </div>
        <div id="promoSkel" class="skel skel-thin" style="display:none; width:140px;"></div>
      </div>
    </section>

    <aside class="my">
      <h2>Мои бронирования</h2>
      <div id="myListSkeleton"><div class="skel-card"><div class="skel skel-line" style="width:40%"></div><div class="skel skel-line" style="width:70%"></div></div></div>
      <div id="myList" class="my-list"></div>
      <div class="stat"><span class="muted">Часы в этом месяце</span><span id="hoursCounter"></span></div>
    </aside>
  </main>

  <!-- simple modals -->
  <div id="collectionModal" class="modal" hidden>
    <div class="modal-backdrop"></div>
    <div class="modal-sheet">
      <div class="modal-header"><strong>Моя коллекция</strong><button id="collectionClose" aria-label="Закрыть">&times;</button></div>
      <div id="collectionSkeleton" class="skel-grid" style="display:none">
        <div class="skel skel-square"></div><div class="skel skel-square"></div><div class="skel skel-square"></div>
      </div>
      <div id="collectionList" class="vinyl-grid"></div>
    </div>
  </div>

  <div id="supportModal" class="modal" hidden>
    <div class="modal-backdrop"></div>
    <div class="modal-sheet">
      <div class="modal-header"><strong>Связаться с поддержкой</strong><button id="supportClose" aria-label="Закрыть">&times;</button></div>
      <p class="muted" style="margin-top:0">Мы отвечаем в Telegram с 10:00 до 22:00.</p>
      <div class="support-actions">
        <button id="supportOpenTG" type="button">Написать в Telegram</button>
        <button id="supportCopy" type="button" class="secondary">@fadeout_manages</button>
      </div>
    </div>
  </div>

  <div id="yk-modal" class="modal" hidden>
    <div class="modal-backdrop"></div>
    <div class="modal-sheet">
      <div class="modal-header"><strong>Оплата</strong><button id="yk-close" aria-label="Закрыть">&times;</button></div>
      <div id="ykSkeleton" style="display:none"><div class="skel" style="height:56px;margin-bottom:8px"></div><div class="skel" style="height:180px;margin-bottom:8px"></div><div class="skel" style="height:48px"></div></div>
      <div id="yk-widget"></div>
    </div>
  </div>

  <div id="toast" class="toast" hidden></div>
  <script type="module" src="/app.js"></script>
</body>
</html>
